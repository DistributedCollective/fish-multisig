(this["webpackJsonpmultisig-ui"]=this["webpackJsonpmultisig-ui"]||[]).push([[4],{1722:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(133),r=a(0),c=a.n(r),s=a(108),l=a(168),u=a(264);function i(e){var t=Object(r.useCallback)((function(){if(e.txHash&&e.startLength&&e.endLength){var t=e.txHash.substr(0,e.startLength),a=e.txHash.substr(-e.endLength);return"".concat(t," \xb7\xb7\xb7 ").concat(a)}return e.txHash}),[e.txHash,e.startLength,e.endLength]),a=Object(s.d)(u.a).chainId,i=Object(r.useCallback)((function(){return l.a[a]}),[a]),o=Object(r.useState)(t()),m=Object(n.a)(o,2),f=m[0],d=m[1],b=Object(r.useState)(i()),p=Object(n.a)(b,2),v=p[0],y=p[1];return Object(r.useEffect)((function(){d(t())}),[t,e.txHash,e.startLength,e.endLength]),Object(r.useEffect)((function(){y(i())}),[a,i]),c.a.createElement("a",{className:e.className,href:"".concat(v,"/").concat(e.isAddress?"address":"tx","/").concat(e.txHash),target:"_blank",rel:"noreferrer noopener"},f)}i.defaultProps={startLength:10,endLength:4,className:"ml-1 text-white"}},1723:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},1726:function(e,t,a){"use strict";a.r(t),a.d(t,"HomePage",(function(){return ye}));var n,r=a(0),c=a.n(r),s=a(152),l=a(207),u=Object(l.a)((function(){return a.e(6).then(a.bind(null,1728))}),(function(e){return e.Header})),i=Object(l.a)((function(){return a.e(5).then(a.bind(null,1725))}),(function(e){return e.Footer})),o=a(133),m=a(108),f=a(105),d=a(459),b=a(456),p=a(6),v=a.n(p),y=a(80),O=a(454),g=a(1721),E=a(325),h=a(455),j=Object(h.a)({name:"multiSigTransactionForm",initialState:{},reducers:{someAction:function(e,t){}}}),x=(j.actions,j.reducer),N=j.name,w=v.a.mark(S);function S(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),w)}!function(e){e[e.CUSTOM=0]="CUSTOM",e[e.ERC20_TRANSFER=1]="ERC20_TRANSFER"}(n||(n={}));var k=a(128),T=a.n(k),C=a(143),I=a(1723),D=a(62),M=new T.a,H={},R={};function F(e){return H.hasOwnProperty(e)||(H[e]=new D.a.web3.eth.Contract(I,e)),H[e]}function _(e,t){return A.apply(this,arguments)}function A(){return(A=Object(y.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R.hasOwnProperty(t)){e.next=4;break}return e.next=3,a.methods.decimals().call();case 3:R[t]=e.sent;case 4:return e.abrupt("return",Number(R[t]));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t,a){return P.apply(this,arguments)}function P(){return(P=Object(y.a)(v.a.mark((function e(t,a,n){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","0x");case 2:return e.prev=2,r=F(t),e.next=6,_(t,r);case 6:return c=e.sent,e.abrupt("return",r.methods.transfer(Object(C.e)(a),Object(O.a)(n).mul(Math.pow(10,c)).toFixed(0)).encodeABI());case 10:return e.prev=10,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return","0x");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function B(e){try{var t=M.eth.abi.encodeFunctionSignature("transfer(address,uint256)");return{signature:t,data:e.substr(t.length),decoded:M.eth.abi.decodeParameters(["address","uint256"],e.substr(t.length))}}catch(a){return console.error(a),null}}function U(e){var t=Object(r.useState)({receiver:"",amount:""}),a=Object(o.a)(t,2),n=a[0],s=a[1],l=Object(r.useCallback)((function(e){return function(t){var a=t.currentTarget.value;s((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(d.a)({},e,a))}))}}),[]);return Object(r.useEffect)((function(){try{(function(){var t=Object(y.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e.value.destination,n.receiver,n.amount||"0");case 2:return(a=t.sent)&&"0x"!==a&&console.log(B(a)),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()().then(e.onData)}catch(t){e.onData("0x")}}),[n,e.value.destination]),c.a.createElement("section",null,c.a.createElement("h3",{className:"mb-2"},"ERC20.transfer:"),c.a.createElement("div",{className:"md:flex md:space-x-4"},c.a.createElement("div",{className:"md:w-7/12"},c.a.createElement(g.b,{label:"Receiver"},c.a.createElement(g.d,{leftIcon:"user",value:n.receiver,onChange:l("receiver"),placeholder:"0x95f1f9393D1d3e46Df2cDa491fc323E142758c21"}))),c.a.createElement("div",{className:"md:w-5/12"},c.a.createElement(g.b,{label:"Amount"},c.a.createElement(g.d,{leftIcon:"numerical",value:n.amount,onChange:l("amount"),placeholder:"100.00000"})))))}function J(e){var t=e.type,a=e.value,r=e.onData;switch(t){default:case n.CUSTOM.toString():return c.a.createElement(g.b,{label:"Transaction data"},c.a.createElement(g.d,{leftIcon:"briefcase",value:a.data,onChange:function(e){return r(e.currentTarget.value)},placeholder:"0x"}));case n.ERC20_TRANSFER.toString():return c.a.createElement(U,{onData:function(e){return r(e)},value:a})}}var V=a(55);function Y(e,t,a,n){var r=V.a.getState().blockChainProvider.address;return D.a.send(e,"submitTransaction",[Object(C.e)(t),a,n,{from:r}],{type:"submitTransaction"})}function q(e,t){var a=V.a.getState().blockChainProvider.address;return D.a.send(e,"confirmTransaction",[t,{from:a}],{type:"confirmTransaction"})}var W=a(264),z=a(168),G=[{value:n.CUSTOM,label:"Custom data"},{value:n.ERC20_TRANSFER,label:"Transfer ERC20 Token"}];function K(e){Object(E.a)({key:N,reducer:x}),Object(E.b)({key:N,saga:S});var t=Object(m.d)(W.a),a=t.chainId,s=t.network,l=Object(r.useState)({destination:"",value:"",data:"0x"}),u=Object(o.a)(l,2),i=u[0],p=u[1],h=Object(r.useState)(String(n.ERC20_TRANSFER)),j=Object(o.a)(h,2),w=j[0],k=j[1],T=Object(r.useState)(!1),I=Object(o.a)(T,2),D=I[0],M=I[1],H=Object(r.useState)(!1),R=Object(o.a)(H,2),F=R[0],_=R[1],A=Object(r.useState)([]),L=Object(o.a)(A,2),P=L[0],B=L[1],U=Object(r.useCallback)(function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a&&a.preventDefault&&a.preventDefault(),_(!0),t.prev=2,t.next=5,Y(e.contractName,i.destination,Object(C.f)(i.value),i.data);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error(t.t0);case 10:_(!1);case 11:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),[e.contractName,i]),V=Object(r.useCallback)((function(e){return function(t){var a=t.currentTarget.value;p((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(d.a)({},e,a))}))}}),[]);return Object(r.useEffect)((function(){try{var e=Object(C.e)(i.destination),t=Object(C.a)(e),a=Object(O.a)(i.value||"0").greaterThanOrEqualTo("0");M(t&&a)}catch(n){M(!1)}}),[i]),Object(r.useEffect)((function(){B([{value:"",label:"Custom"}].concat(Object(f.a)(z.c[s])))}),[s]),c.a.createElement("div",{className:"bg-white rounded shadow p-3 lg:flex-1"},c.a.createElement("h3",{className:"mb-3 font-semibold"},"Submit Transaction"),c.a.createElement("form",{onSubmit:U},c.a.createElement("div",{className:"md:flex md:space-x-4"},c.a.createElement("div",{className:"md:w-7/12"},c.a.createElement(g.b,{label:"Destination"},c.a.createElement(g.d,{leftElement:c.a.createElement(g.c,{className:"mr-3",onChange:function(e){return p((function(t){return Object(b.a)(Object(b.a)({},t),{},{destination:e.currentTarget.value})}))},options:P,value:i.destination}),value:i.destination,onChange:V("destination"),placeholder:"0x95f1f9393D1d3e46Df2cDa491fc323E142758c21"}))),c.a.createElement("div",{className:"md:w-5/12"},c.a.createElement(g.b,{label:[30,31].includes(a)?"rBTC amount":"ETH amount"},c.a.createElement(g.d,{leftIcon:"numerical",value:i.value,onChange:V("value"),placeholder:"0.001",rightElement:c.a.createElement("div",{className:"py-2 px-3 text-xs text-gray-500"},[30,31].includes(a)?"rBTC":"ETH")})))),c.a.createElement(J,{value:i,type:w,onData:function(e){return p((function(t){return Object(b.a)(Object(b.a)({},t),{},{data:e})}))}}),c.a.createElement("div",{className:"p-3 bg-gray-300 text-sm break-all mb-3"},i.data),c.a.createElement("div",{className:"flex justify-between space-x items-center"},c.a.createElement(g.c,{options:G,value:w,onChange:function(e){return k(e.currentTarget.value)}}),c.a.createElement(g.a,{type:"submit",icon:"send-to",text:"Submit Transaction",disabled:!D||F,loading:F}))))}var Q={},X=Object(h.a)({name:"multiSignConfirmTransactionForm",initialState:Q,reducers:{someAction:function(e,t){}}}),Z=(X.actions,X.reducer),$=X.name,ee=a(94),te=Object(ee.a)([function(e){return e.multiSignConfirmTransactionForm||Q}],(function(e){return e})),ae=v.a.mark(ne);function ne(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),ae)}function re(e){Object(E.a)({key:$,reducer:Z}),Object(E.b)({key:$,saga:ne});Object(m.d)(te),Object(m.c)();var t=Object(r.useState)(e.transactionId),a=Object(o.a)(t,2),n=a[0],s=a[1],l=Object(r.useState)(!1),u=Object(o.a)(l,2),i=u[0],f=u[1],d=Object(r.useState)(!1),b=Object(o.a)(d,2),p=b[0],O=b[1],h=Object(r.useCallback)(function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a&&a.preventDefault&&a.preventDefault(),O(!0),t.prev=2,t.next=5,q(e.contractName,n);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error(t.t0);case 10:O(!1);case 11:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),[e.contractName,n]);return Object(r.useEffect)((function(){f(!!n)}),[n]),Object(r.useEffect)((function(){s(e.transactionId)}),[e.transactionId]),c.a.createElement("div",{className:"bg-white rounded shadow p-3 lg:flex-1"},c.a.createElement("h3",{className:"mb-3 font-semibold"},"Confirm Transaction"),c.a.createElement("form",{onSubmit:h},c.a.createElement(g.b,{label:"Transaction ID"},c.a.createElement(g.d,{leftIcon:"numerical",value:n,onChange:function(e){return s(e.currentTarget.value)},placeholder:"1"})),c.a.createElement(g.a,{type:"submit",fill:!0,icon:"send-to",text:"Confirm Transaction",disabled:!i||p,loading:p})))}var ce=Object(h.a)({name:"eventContainer",initialState:{},reducers:{someAction:function(e,t){}}}),se=(ce.actions,ce.reducer),le=ce.name,ue=v.a.mark(ie);function ie(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),ue)}var oe=a(715),me=a(1722);function fe(e){Object(E.a)({key:le,reducer:se}),Object(E.b)({key:le,saga:ie});var t=Object(m.d)(W.a).syncBlockNumber,a=Object(r.useState)(!0),n=Object(o.a)(a,2),s=n[0],l=n[1],u=Object(r.useState)([]),i=Object(o.a)(u,2),f=i[0],d=i[1];Object(r.useEffect)((function(){l(!0),function(){var t=Object(y.a)(v.a.mark((function t(){var a,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.block();case 2:return a=t.sent,t.next=5,D.a.getPastEvents(e.contractName,"Submission",{},a-5e3);case 5:n=t.sent,d(n.reverse().slice(0,3)),l(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()().then().catch(console.error)}),[e.contractName,t]);var b=Object(r.useCallback)((function(t){e.onSelect(t)}),[e]);return c.a.createElement("div",{className:"bg-white rounded shadow p-3 w-full"},c.a.createElement("h3",{className:"mb-3 font-semibold"},"Last submissions"),s&&c.a.createElement("div",{className:"flex w-full flex-col space-y-4"},c.a.createElement(oe.b,null),c.a.createElement(oe.b,null),c.a.createElement(oe.b,null)),!s&&0===f.length&&c.a.createElement(c.a.Fragment,null,"No submissions in last ",5e3," blocks."),!s&&f.length>0&&c.a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-1 gap-4"},f.map((function(e){return c.a.createElement(de,{key:e.returnValues.transactionId,item:e,onSelect:b})}))))}function de(e){var t=e.item,a=e.onSelect,n=Object(r.useCallback)((function(e){a(e)}),[a]);return c.a.createElement("div",{className:"rounded shadow p-3 text-xs lg:flex-1"},c.a.createElement("div",{className:"flex flex-row justify-between space-x-4 mb-2"},c.a.createElement("div",{className:"text-gray-600"},"Tx ID:"),c.a.createElement("div",null,c.a.createElement("a",{href:"#!",onClick:function(){return n(t.returnValues.transactionId)}},t.returnValues.transactionId.toLocaleString()))),c.a.createElement("div",{className:"flex flex-row justify-between space-x-4 mb-2"},c.a.createElement("div",{className:"text-gray-600"},"Block:"),c.a.createElement("div",null,t.blockNumber.toLocaleString())),c.a.createElement("div",{className:"flex flex-row justify-between space-x-4"},c.a.createElement("div",{className:"text-gray-600"},"Tx Hash:"),c.a.createElement("div",null,c.a.createElement(me.a,{txHash:t.transactionHash,className:"text-black hover:text-gray-700"}))))}var be=a(179);var pe=function(e){var t,a=e.item,n=Object(m.d)(W.a),s=n.network,l=n.address,u=Object(r.useState)(""),i=Object(o.a)(u,2),f=i[0],d=i[1],p=function(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),c=2;c<a;c++)n[c-2]=arguments[c];var s=Object(m.d)(W.a).syncBlockNumber,l=Object(r.useState)({value:null,loading:!0,error:null}),u=Object(o.a)(l,2),i=u[0],f=u[1];return Object(r.useEffect)((function(){f((function(e){return Object(b.a)(Object(b.a)({},e),{},{loading:!0,error:null})}));try{D.a.call(e,t,n).then((function(e){f((function(t){return Object(b.a)(Object(b.a)({},t),{},{value:e,loading:!1,error:null})}))})).catch((function(e){console.error(e),f((function(t){return Object(b.a)(Object(b.a)({},t),{},{loading:!1,value:null,error:e})}))}))}catch(a){f((function(e){return Object(b.a)(Object(b.a)({},e),{},{loading:!1,value:null,error:a})}))}return function(){}}),[e,t,JSON.stringify(n),s]),i}(a.contractName,"isOwner",l);return c.a.createElement("div",{className:"container py-5"},c.a.createElement("h3",null,a.prettyName," (",c.a.createElement(me.a,{txHash:null===(t=be.a[s][a.contractName])||void 0===t?void 0:t.address,isAddress:!0}),") - ",p.value?"You are signer":"You are NOT signer."),c.a.createElement("div",{className:"lg:flex lg:flex-row lg:space-x-4"},c.a.createElement("div",{className:"lg:w-6/12 lg:flex"},c.a.createElement(K,{contractName:a.contractName})),c.a.createElement("div",{className:"lg:w-6/12"},c.a.createElement("div",{className:"mt-5 lg:mt-0 lg:flex-grow md:flex md:flex-row md:space-x-4"},c.a.createElement("div",{className:"md:w-4/12 lg:w-6/12 lg:flex"},c.a.createElement(re,{contractName:a.contractName,transactionId:f})),c.a.createElement("div",{className:"mt-5 md:mt-0 md:w-8/12 lg:w-6/12 lg:flex"},c.a.createElement(fe,{contractName:a.contractName,onSelect:function(e){return d(e)}}))))))},ve=[{contractName:"multiSigOrigins",prettyName:"Origins MultiSig"},{contractName:"multiSigToken",prettyName:"Token MultiSig"},{contractName:"multiSigDeposit",prettyName:"Deposit Wallet MultiSig"}];function ye(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,null,c.a.createElement("title",null,"FISH MultiSig"),c.a.createElement("meta",{name:"description",content:"FISH UI"})),c.a.createElement(u,null),c.a.createElement("main",{className:"w-full flex-grow"},c.a.createElement("div",{className:"bg-black"},c.a.createElement("div",{className:"container"},c.a.createElement("h2",{className:"text-white pt-20 pb-8"},"FISH MultiSig"))),ve.map((function(e){return c.a.createElement(pe,{key:e.contractName,item:e})}))),c.a.createElement(i,null))}}}]);